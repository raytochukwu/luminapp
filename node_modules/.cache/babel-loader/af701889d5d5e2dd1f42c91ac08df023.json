{"ast":null,"code":"import _toConsumableArray from\"C:/Users/RAY/Desktop/luminapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/RAY/Desktop/luminapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/RAY/Desktop/luminapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import'./Product.css';import{getProduct}from'./Queries/ProdQ';import{useQuery,gql}from\"@apollo/client\";import Modal from'./Modal.js';import{useState,useEffect}from'react';import{useAppContext}from'../AppContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var getDefaultPersonalization=function getDefaultPersonalization(cartItem){var _cartItem$product_opt;var defaultState=cartItem===null||cartItem===void 0?void 0:(_cartItem$product_opt=cartItem.product_options)===null||_cartItem$product_opt===void 0?void 0:_cartItem$product_opt.map(function(item){var _item$options;return{name:item.title,value:((_item$options=item.options)===null||_item$options===void 0?void 0:_item$options.length)&&item.options[0].value};});return defaultState;};export var Productionpg=function Productionpg(){var _useAppContext=useAppContext(),currency=_useAppContext.currency,cart=_useAppContext.cart,updateCart=_useAppContext.updateCart,toggleCart=_useAppContext.toggleCart,updateProducts=_useAppContext.updateProducts;var _useQuery=useQuery(getProduct,{variables:{currency:currency}}),loading=_useQuery.loading,error=_useQuery.error,data=_useQuery.data;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],toggleModal=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),cartItem=_useState4[0],setCartItem=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),personalizations=_useState6[0],setPersonalizations=_useState6[1];var handleChange=function handleChange(event){var updatedPersonalization=personalizations===null||personalizations===void 0?void 0:personalizations.map(function(p){var _event$target,_event$target2;return p.name===((_event$target=event.target)===null||_event$target===void 0?void 0:_event$target.name)?_objectSpread(_objectSpread({},p),{},{value:(_event$target2=event.target)===null||_event$target2===void 0?void 0:_event$target2.value}):p;});setPersonalizations(updatedPersonalization);};var pushToCart=function pushToCart(e){e.preventDefault();var duplicate=cart.find(function(c){return c.id===cartItem.id;});if(duplicate){var newCart=cart.map(function(c){return c.id===cartItem.id?_objectSpread(_objectSpread({},c),{},{quantity:c.quantity+1}):c;});updateCart(newCart);}else{var _newCart=[].concat(_toConsumableArray(cart),[_objectSpread(_objectSpread({},cartItem),{},{options:personalizations,quantity:1})]);updateCart(_newCart);}toggleModal(false);toggleCart(true);};useEffect(function(){setPersonalizations(getDefaultPersonalization(cartItem));if(data&&data.products)updateProducts(data.products);},[cartItem,data]);var addToCart=function addToCart(productId){var product=data===null||data===void 0?void 0:data.products.find(function(item){return(item===null||item===void 0?void 0:item.id)===productId;});if(product){setCartItem(product);toggleModal(true);}};// const { data, loading, error } = useQuery(getProduct,{variables:{currency}});\n// console.log(data);\nif(loading)return\"Loading...\";if(error)return/*#__PURE__*/_jsx(\"pre\",{children:error.message});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{class:\"products-section\",children:[data.products.map(function(product){return/*#__PURE__*/_jsxs(\"div\",{class:\"product\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"text-center\",children:/*#__PURE__*/_jsx(\"img\",{src:product===null||product===void 0?void 0:product.image_url,alt:\"Premium-Grade Moisturizing Balm\"})}),/*#__PURE__*/_jsx(\"h4\",{class:\"title\",children:product===null||product===void 0?void 0:product.title}),/*#__PURE__*/_jsxs(\"h2\",{class:\"price\",children:[currency,product===null||product===void 0?void 0:product.price,\".00\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return addToCart(product===null||product===void 0?void 0:product.id);},class:\"btn\",children:\"Add to Cart\"})]},product.id);}),\";\"]}),\")\",/*#__PURE__*/_jsx(Modal,{show:showModal,closeModal:function closeModal(){return toggleModal(false);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-5 pb-5\",children:/*#__PURE__*/_jsx(\"img\",{className:\"item-image\",src:cartItem===null||cartItem===void 0?void 0:cartItem.image_url,alt:cartItem===null||cartItem===void 0?void 0:cartItem.title})}),/*#__PURE__*/_jsx(\"h4\",{children:\"First, Let's personalize.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Products that you receive may vary according to your age bracket & skin type to optimize results.\"}),/*#__PURE__*/_jsx(\"h6\",{children:\"Personalization Details\"}),(cartItem===null||cartItem===void 0?void 0:cartItem.product_options)&&(cartItem===null||cartItem===void 0?void 0:cartItem.product_options.map(function(item,index){var _personalizations$fin;return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlInput1\",className:\"form-label\",children:item===null||item===void 0?void 0:item.title}),/*#__PURE__*/_jsx(\"select\",{name:item===null||item===void 0?void 0:item.title,className:\"form-select\",\"aria-label\":\"Default select example\",onChange:handleChange,value:personalizations===null||personalizations===void 0?void 0:(_personalizations$fin=personalizations.find(function(i){return i.name===item.title;}))===null||_personalizations$fin===void 0?void 0:_personalizations$fin.value,children:(item===null||item===void 0?void 0:item.options)&&(item===null||item===void 0?void 0:item.options.map(function(option,index){return/*#__PURE__*/_jsx(\"option\",{value:option===null||option===void 0?void 0:option.value,children:option===null||option===void 0?void 0:option.value},index);}))})]},index);}))]}),/*#__PURE__*/_jsx(\"button\",{onClick:pushToCart,className:\"btn\",children:\"Add to cart\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mancare\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"join\",href:\"https://www.instagram.com/lumin.skin/\",children:\"Join the #ManCareMovement\"}),/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 94 94\",focusable:\"false\",class:\"arrow\",children:/*#__PURE__*/_jsx(\"path\",{fill:\"currentColor\",d:\"M58.75 19.5833L53.2275 25.1058L71.1658 43.0833H7.83333V50.9167H71.1658L53.1883 68.8942L58.75 74.4167L86.1667 47L58.75 19.5833Z\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mancarepic\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"https://www.instagram.com/p/B5OA2E7h-3a/\",class:\"css-1idia5r\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://i.shgcdn.com/d39c7a95-9888-4f13-b43a-355a2f0849dd/-/format/auto/-/preview/3000x3000/-/quality/lighter/\",alt:\"\",class:\"css-1ywmljq\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"https://www.instagram.com/p/B5OA2E7h-3a/\",class:\"css-1idia5r\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://i.shgcdn.com/19e25e65-d583-4357-9626-ee0f08d88c34/-/format/auto/-/preview/3000x3000/-/quality/lighter/\",alt:\"\",class:\"css-1ywmljq\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"https://www.instagram.com/p/B33L4-en8Eb/\",class:\"css-1idia5r\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://i.shgcdn.com/c5b55791-a2d4-4659-b8bd-93ab3d0b3874/-/format/auto/-/preview/3000x3000/-/quality/lighter/\",alt:\"\",class:\"css-1ywmljq\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"https://www.instagram.com/p/B4fnY0Ihh07/\",class:\"css-1idia5r\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://i.shgcdn.com/b24d9740-8340-40dd-ab30-c5e35d755c26/-/format/auto/-/preview/3000x3000/-/quality/lighter/\",alt:\"\",class:\"css-1ywmljq\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"https://www.instagram.com/p/B87GtVLBp3z/\",class:\"css-tj8qcz\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://i.shgcdn.com/4fce0508-7701-43b0-893b-51c6fc785b5f/-/format/auto/-/preview/3000x3000/-/quality/lighter/\",alt:\"\",class:\"css-1ywmljq\"})})]})]})]});};export default Productionpg;","map":{"version":3,"sources":["C:/Users/RAY/Desktop/luminapp/src/components/Productionpg.js"],"names":["React","getProduct","useQuery","gql","Modal","useState","useEffect","useAppContext","getDefaultPersonalization","cartItem","defaultState","product_options","map","item","name","title","value","options","length","Productionpg","currency","cart","updateCart","toggleCart","updateProducts","variables","loading","error","data","showModal","toggleModal","setCartItem","personalizations","setPersonalizations","handleChange","event","updatedPersonalization","p","target","pushToCart","e","preventDefault","duplicate","find","c","id","newCart","quantity","products","addToCart","productId","product","message","image_url","price","index","i","option"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './Product.css';\r\nimport { getProduct } from './Queries/ProdQ';\r\nimport { useQuery, gql } from \"@apollo/client\";\r\nimport Modal from './Modal.js'\r\nimport { useState, useEffect} from 'react';\r\nimport { useAppContext } from '../AppContext';\r\n\r\n\r\nconst getDefaultPersonalization = (cartItem) => {\r\n  const defaultState = cartItem?.product_options?.map((item) => {\r\n    return {\r\n      name: item.title,\r\n      value: item.options?.length && item.options[0].value,\r\n    };\r\n  });\r\n  return defaultState;\r\n};\r\n\r\nexport const Productionpg = () => {\r\n  const { currency, cart, updateCart, toggleCart, updateProducts } =\r\n  useAppContext();\r\nconst { loading, error, data } = useQuery(getProduct, {\r\n  variables: { currency },\r\n});\r\n  const [showModal, toggleModal] = useState(false);\r\n  const [cartItem, setCartItem] = useState(null);\r\n  const [personalizations, setPersonalizations] = useState([]);\r\n\r\n  const handleChange = (event) => {\r\n    const updatedPersonalization = personalizations?.map((p) =>\r\n      p.name === event.target?.name ? { ...p, value: event.target?.value } : p\r\n    );\r\n    setPersonalizations(updatedPersonalization);\r\n  };\r\n\r\n\r\n  const pushToCart = (e) => {\r\n    e.preventDefault();\r\n    const duplicate = cart.find((c) => c.id === cartItem.id);\r\n    if (duplicate) {\r\n      const newCart = cart.map((c) =>\r\n        c.id === cartItem.id ? { ...c, quantity: c.quantity + 1 } : c\r\n      );\r\n\r\n      updateCart(newCart);\r\n    } else {\r\n      const newCart = [\r\n        ...cart,\r\n        { ...cartItem, options: personalizations, quantity: 1 },\r\n      ];\r\n      updateCart(newCart);\r\n    }\r\n    toggleModal(false);\r\n    toggleCart(true);\r\n  };\r\n\r\n  \r\n  useEffect(() => {\r\n    setPersonalizations(getDefaultPersonalization(cartItem));\r\n    if (data && data.products) updateProducts(data.products);\r\n  }, [cartItem, data]);\r\n\r\n  const addToCart = (productId) => {\r\n    const product = data?.products.find((item) => item?.id === productId);\r\n    if (product) {\r\n      setCartItem(product);\r\n      toggleModal(true);\r\n    }\r\n  };\r\n    // const { data, loading, error } = useQuery(getProduct,{variables:{currency}});\r\n    // console.log(data);\r\n\r\n    if (loading) return \"Loading...\";\r\n    if (error) return <pre>{error.message}</pre>\r\n    return (\r\n      <>\r\n    <section class=\"products-section\">\r\n    {data.products.map((product) => (\r\n        \r\n          <div class=\"product\" key={product.id}>\r\n              <div class=\"text-center\">\r\n                  <img src={product?.image_url} alt=\"Premium-Grade Moisturizing Balm\"/>\r\n                  </div>\r\n                  <h4 class=\"title\">{product?.title}</h4>\r\n                  <h2 class=\"price\">{currency}{product?.price}.00</h2>\r\n                  <button onClick={() => addToCart(product?.id)} class=\"btn\">Add to Cart</button>\r\n                  </div>  \r\n          \r\n       \r\n    \r\n    ))};\r\n    </section>)\r\n     <Modal show={showModal} closeModal={() => toggleModal(false)}>\r\n     <div className=\"cart-item-wrapper\">\r\n       <div>\r\n         <div className=\"text-center mb-5 pb-5\">\r\n           <img\r\n             className=\"item-image\"\r\n             src={cartItem?.image_url}\r\n             alt={cartItem?.title}\r\n           />\r\n         </div>\r\n         <h4>First, Let's personalize.</h4>\r\n         <p>\r\n           Products that you receive may vary according to your age bracket &\r\n           skin type to optimize results.\r\n         </p>\r\n         <h6>Personalization Details</h6>\r\n         {cartItem?.product_options &&\r\n           cartItem?.product_options.map((item, index) => (\r\n             <div className=\"mb-3\" key={index}>\r\n               <label\r\n                 htmlFor=\"exampleFormControlInput1\"\r\n                 className=\"form-label\"\r\n               >\r\n                 {item?.title}\r\n               </label>\r\n               <select\r\n                 name={item?.title}\r\n                 className=\"form-select\"\r\n                 aria-label=\"Default select example\"\r\n                 onChange={handleChange}\r\n                 value={\r\n                   personalizations?.find((i) => i.name === item.title)\r\n                     ?.value\r\n                 }\r\n               >\r\n                 {item?.options &&\r\n                   item?.options.map((option, index) => (\r\n                     <option value={option?.value} key={index}>\r\n                       {option?.value}\r\n                     </option>\r\n                   ))}\r\n               </select>\r\n             </div>\r\n           ))}\r\n       </div>\r\n       <button onClick={pushToCart} className=\"btn\">\r\n         Add to cart\r\n       </button>\r\n     </div>\r\n   </Modal>\r\n   <div  className=\"mancare\">\r\n     <a className=\"join\" href=\"https://www.instagram.com/lumin.skin/\" >Join the #ManCareMovement</a>\r\n     <svg viewBox=\"0 0 94 94\" focusable=\"false\" class=\"arrow\"><path fill=\"currentColor\" d=\"M58.75 19.5833L53.2275 25.1058L71.1658 43.0833H7.83333V50.9167H71.1658L53.1883 68.8942L58.75 74.4167L86.1667 47L58.75 19.5833Z\"></path></svg>\r\n    <div className=\"mancarepic\">\r\n    <a href=\"https://www.instagram.com/p/B5OA2E7h-3a/\"  class=\"css-1idia5r\"><img src=\"https://i.shgcdn.com/d39c7a95-9888-4f13-b43a-355a2f0849dd/-/format/auto/-/preview/3000x3000/-/quality/lighter/\" alt =\"\" class=\"css-1ywmljq\"/></a>\r\n    <a href=\"https://www.instagram.com/p/B5OA2E7h-3a/\"  class=\"css-1idia5r\"><img src=\"https://i.shgcdn.com/19e25e65-d583-4357-9626-ee0f08d88c34/-/format/auto/-/preview/3000x3000/-/quality/lighter/\" alt =\"\" class=\"css-1ywmljq\"/></a>\r\n    <a href=\"https://www.instagram.com/p/B33L4-en8Eb/\"  class=\"css-1idia5r\"><img src=\"https://i.shgcdn.com/c5b55791-a2d4-4659-b8bd-93ab3d0b3874/-/format/auto/-/preview/3000x3000/-/quality/lighter/\" alt =\"\" class=\"css-1ywmljq\"/></a>\r\n    <a href=\"https://www.instagram.com/p/B4fnY0Ihh07/\"  class=\"css-1idia5r\"><img src=\"https://i.shgcdn.com/b24d9740-8340-40dd-ab30-c5e35d755c26/-/format/auto/-/preview/3000x3000/-/quality/lighter/\" alt =\"\" class=\"css-1ywmljq\"/></a>\r\n    <a href=\"https://www.instagram.com/p/B87GtVLBp3z/\"  class=\"css-tj8qcz\"><img src=\"https://i.shgcdn.com/4fce0508-7701-43b0-893b-51c6fc785b5f/-/format/auto/-/preview/3000x3000/-/quality/lighter/\" alt =\"\" class=\"css-1ywmljq\"/></a>\r\n    </div>\r\n\r\n   </div>\r\n </>\r\n);\r\n    \r\n}\r\nexport default Productionpg;"]},"metadata":{},"sourceType":"module"}