{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\RAY\\\\Desktop\\\\luminapp\\\\src\\\\components\\\\Productionpg.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport './Product.css';\nimport { getProduct } from './Queries/ProdQ';\nimport { useQuery, gql } from \"@apollo/client\";\nimport Modal from './Modal.js';\nimport { useState, useEffect } from 'react';\nimport { useAppContext } from '../AppContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst getDefaultPersonalization = cartItem => {\n  var _cartItem$product_opt;\n\n  const defaultState = cartItem === null || cartItem === void 0 ? void 0 : (_cartItem$product_opt = cartItem.product_options) === null || _cartItem$product_opt === void 0 ? void 0 : _cartItem$product_opt.map(item => {\n    var _item$options;\n\n    return {\n      name: item.title,\n      value: ((_item$options = item.options) === null || _item$options === void 0 ? void 0 : _item$options.length) && item.options[0].value\n    };\n  });\n  return defaultState;\n};\n\nexport const Productionpg = () => {\n  _s();\n\n  const [showModal, toggleModal] = useState(false);\n  const [cartItem, setCartItem] = useState(null);\n  const [personalizations, setPersonalizations] = useState([]);\n\n  const addToCart = productId => {\n    const product = data === null || data === void 0 ? void 0 : data.products.find(item => (item === null || item === void 0 ? void 0 : item.id) === productId);\n\n    if (product) {\n      setCartItem(product);\n      toggleModal(true);\n    }\n  };\n\n  const {\n    data,\n    loading,\n    error\n  } = useQuery(getProduct, {\n    variables: {\n      currency\n    }\n  }); // console.log(data);\n\n  if (loading) return \"Loading...\";\n  if (error) return /*#__PURE__*/_jsxDEV(\"pre\", {\n    children: error.message\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      class: \"products-section\",\n      children: [data.products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"product\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: product === null || product === void 0 ? void 0 : product.image_url,\n            alt: \"Premium-Grade Moisturizing Balm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          class: \"title\",\n          children: product === null || product === void 0 ? void 0 : product.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          class: \"price\",\n          children: [currency, product === null || product === void 0 ? void 0 : product.price, \".00\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => addToCart(product === null || product === void 0 ? void 0 : product.id),\n          class: \"btn\",\n          children: \"Add to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 19\n        }, this)]\n      }, product.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this)), \";\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }, this), \")\", /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      closeModal: () => toggleModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-item-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-5 pb-5\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"item-image\",\n              src: cartItem === null || cartItem === void 0 ? void 0 : cartItem.image_url,\n              alt: cartItem === null || cartItem === void 0 ? void 0 : cartItem.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 12\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"First, Let's personalize.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Products that you receive may vary according to your age bracket & skin type to optimize results.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: \"Personalization Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 10\n          }, this), (cartItem === null || cartItem === void 0 ? void 0 : cartItem.product_options) && (cartItem === null || cartItem === void 0 ? void 0 : cartItem.product_options.map((item, index) => {\n            var _personalizations$fin;\n\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"exampleFormControlInput1\",\n                className: \"form-label\",\n                children: item === null || item === void 0 ? void 0 : item.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 16\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: item === null || item === void 0 ? void 0 : item.title,\n                className: \"form-select\",\n                \"aria-label\": \"Default select example\",\n                onChange: handleChange,\n                value: personalizations === null || personalizations === void 0 ? void 0 : (_personalizations$fin = personalizations.find(i => i.name === item.title)) === null || _personalizations$fin === void 0 ? void 0 : _personalizations$fin.value,\n                children: (item === null || item === void 0 ? void 0 : item.options) && (item === null || item === void 0 ? void 0 : item.options.map((option, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: option === null || option === void 0 ? void 0 : option.value,\n                  children: option === null || option === void 0 ? void 0 : option.value\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 22\n                }, this)))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 16\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 14\n            }, this);\n          }))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: pushToCart,\n          className: \"btn\",\n          children: \"Add to cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Productionpg, \"oj3A/U4HBcEpWbOOQkJ5ijPt2pw=\", false, function () {\n  return [useQuery];\n});\n\n_c = Productionpg;\nexport default Productionpg;\n\nvar _c;\n\n$RefreshReg$(_c, \"Productionpg\");","map":{"version":3,"sources":["C:/Users/RAY/Desktop/luminapp/src/components/Productionpg.js"],"names":["React","getProduct","useQuery","gql","Modal","useState","useEffect","useAppContext","getDefaultPersonalization","cartItem","defaultState","product_options","map","item","name","title","value","options","length","Productionpg","showModal","toggleModal","setCartItem","personalizations","setPersonalizations","addToCart","productId","product","data","products","find","id","loading","error","variables","currency","message","image_url","price","index","handleChange","i","option","pushToCart"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './Product.css';\r\nimport { getProduct } from './Queries/ProdQ';\r\nimport { useQuery, gql } from \"@apollo/client\";\r\nimport Modal from './Modal.js'\r\nimport { useState ,useEffect} from 'react';\r\nimport { useAppContext } from '../AppContext';\r\n\r\n\r\nconst getDefaultPersonalization = (cartItem) => {\r\n  const defaultState = cartItem?.product_options?.map((item) => {\r\n    return {\r\n      name: item.title,\r\n      value: item.options?.length && item.options[0].value,\r\n    };\r\n  });\r\n  return defaultState;\r\n};\r\n\r\nexport const Productionpg = () => {\r\n  const [showModal, toggleModal] = useState(false);\r\n  const [cartItem, setCartItem] = useState(null);\r\n  const [personalizations, setPersonalizations] = useState([]);\r\n  const addToCart = (productId) => {\r\n    const product = data?.products.find((item) => item?.id === productId);\r\n    if (product) {\r\n      setCartItem(product);\r\n      toggleModal(true);\r\n    }\r\n  };\r\n    const { data, loading, error } = useQuery(getProduct,{variables:{currency}});\r\n    // console.log(data);\r\n\r\n    if (loading) return \"Loading...\";\r\n    if (error) return <pre>{error.message}</pre>\r\n    return (\r\n      <>\r\n    <section class=\"products-section\">\r\n    {data.products.map((product) => (\r\n        \r\n          <div class=\"product\" key={product.id}>\r\n              <div class=\"text-center\">\r\n                  <img src={product?.image_url} alt=\"Premium-Grade Moisturizing Balm\"/>\r\n                  </div>\r\n                  <h4 class=\"title\">{product?.title}</h4>\r\n                  <h2 class=\"price\">{currency}{product?.price}.00</h2>\r\n                  <button onClick={() => addToCart(product?.id)} class=\"btn\">Add to Cart</button>\r\n                  </div>  \r\n          \r\n       \r\n    \r\n    ))};\r\n    </section>)\r\n     <Modal show={showModal} closeModal={() => toggleModal(false)}>\r\n     <div className=\"cart-item-wrapper\">\r\n       <div>\r\n         <div className=\"text-center mb-5 pb-5\">\r\n           <img\r\n             className=\"item-image\"\r\n             src={cartItem?.image_url}\r\n             alt={cartItem?.title}\r\n           />\r\n         </div>\r\n         <h4>First, Let's personalize.</h4>\r\n         <p>\r\n           Products that you receive may vary according to your age bracket &\r\n           skin type to optimize results.\r\n         </p>\r\n         <h6>Personalization Details</h6>\r\n         {cartItem?.product_options &&\r\n           cartItem?.product_options.map((item, index) => (\r\n             <div className=\"mb-3\" key={index}>\r\n               <label\r\n                 htmlFor=\"exampleFormControlInput1\"\r\n                 className=\"form-label\"\r\n               >\r\n                 {item?.title}\r\n               </label>\r\n               <select\r\n                 name={item?.title}\r\n                 className=\"form-select\"\r\n                 aria-label=\"Default select example\"\r\n                 onChange={handleChange}\r\n                 value={\r\n                   personalizations?.find((i) => i.name === item.title)\r\n                     ?.value\r\n                 }\r\n               >\r\n                 {item?.options &&\r\n                   item?.options.map((option, index) => (\r\n                     <option value={option?.value} key={index}>\r\n                       {option?.value}\r\n                     </option>\r\n                   ))}\r\n               </select>\r\n             </div>\r\n           ))}\r\n       </div>\r\n       <button onClick={pushToCart} className=\"btn\">\r\n         Add to cart\r\n       </button>\r\n     </div>\r\n   </Modal>\r\n </>\r\n);\r\n    \r\n}\r\nexport default Productionpg;"]},"metadata":{},"sourceType":"module"}